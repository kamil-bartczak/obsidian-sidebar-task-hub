const strings = {
  en: {
    taskHub: "Task Hub",
    filesView: "Files view",
    tagsView: "Tags view",
    toggleSearch: "Toggle search",
    toggleCompleted: "Toggle completed tasks",
    filterPlaceholder: "Filter tasks…",
    noTasksFound: "No tasks found",
    hidden: "Hidden",
    hideTask: "Hide this task",
    unhideTask: "Unhide this task",
    hideFile: "Hide this file",
    unhideFile: "Unhide this file",
    cannotNavigate: "Cannot navigate: open the file in editing view first.",
    untagged: "(untagged)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Excluded folders",
    excludedFoldersDesc:
      "One folder path per line (relative to vault root). Files inside these folders are skipped when scanning for tasks.",
    excludedFoldersPlaceholder: "Templates\nArchive\nDaily Notes",
    showDoneDefault: "Show completed tasks by default",
    showDoneDefaultDesc:
      "Whether the 'Show completed' toggle is on when the panel first opens.",
    openTaskHub: "Open Task Hub (right sidebar)",
  },
  pl: {
    taskHub: "Task Hub",
    filesView: "Widok plików",
    tagsView: "Widok tagów",
    toggleSearch: "Przełącz wyszukiwanie",
    toggleCompleted: "Przełącz ukończone zadania",
    filterPlaceholder: "Filtruj zadania…",
    noTasksFound: "Nie znaleziono zadań",
    hidden: "Ukryte",
    hideTask: "Ukryj to zadanie",
    unhideTask: "Pokaż to zadanie",
    hideFile: "Ukryj ten plik",
    unhideFile: "Pokaż ten plik",
    cannotNavigate: "Nie można nawigować: otwórz plik w trybie edycji.",
    untagged: "(bez tagów)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Wykluczone foldery",
    excludedFoldersDesc:
      "Jedna ścieżka folderu na linię (względem katalogu głównego). Pliki w tych folderach są pomijane podczas skanowania.",
    excludedFoldersPlaceholder: "Szablony\nArchiwum\nNotatki dzienne",
    showDoneDefault: "Domyślnie pokazuj ukończone zadania",
    showDoneDefaultDesc:
      "Czy przełącznik 'Pokaż ukończone' jest włączony przy otwarciu panelu.",
    openTaskHub: "Otwórz Task Hub (prawy panel)",
  },
  de: {
    taskHub: "Task Hub",
    filesView: "Dateiansicht",
    tagsView: "Tag-Ansicht",
    toggleSearch: "Suche umschalten",
    toggleCompleted: "Erledigte umschalten",
    filterPlaceholder: "Aufgaben filtern…",
    noTasksFound: "Keine Aufgaben gefunden",
    hidden: "Ausgeblendet",
    hideTask: "Aufgabe ausblenden",
    unhideTask: "Aufgabe einblenden",
    hideFile: "Datei ausblenden",
    unhideFile: "Datei einblenden",
    cannotNavigate: "Navigation nicht möglich: Datei im Editor öffnen.",
    untagged: "(ohne Tags)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Ausgeschlossene Ordner",
    excludedFoldersDesc:
      "Ein Ordnerpfad pro Zeile (relativ zum Vault-Stammverzeichnis). Dateien in diesen Ordnern werden beim Scannen übersprungen.",
    excludedFoldersPlaceholder: "Vorlagen\nArchiv\nTägliche Notizen",
    showDoneDefault: "Erledigte Aufgaben standardmäßig anzeigen",
    showDoneDefaultDesc:
      "Ob der Schalter 'Erledigte anzeigen' beim Öffnen des Panels aktiviert ist.",
    openTaskHub: "Task Hub öffnen (rechte Seitenleiste)",
  },
  fr: {
    taskHub: "Task Hub",
    filesView: "Vue fichiers",
    tagsView: "Vue tags",
    toggleSearch: "Basculer la recherche",
    toggleCompleted: "Basculer les tâches terminées",
    filterPlaceholder: "Filtrer les tâches…",
    noTasksFound: "Aucune tâche trouvée",
    hidden: "Masqué",
    hideTask: "Masquer cette tâche",
    unhideTask: "Afficher cette tâche",
    hideFile: "Masquer ce fichier",
    unhideFile: "Afficher ce fichier",
    cannotNavigate: "Navigation impossible : ouvrez le fichier en mode éditeur.",
    untagged: "(sans tag)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Dossiers exclus",
    excludedFoldersDesc:
      "Un chemin de dossier par ligne (relatif à la racine du coffre). Les fichiers dans ces dossiers sont ignorés lors de l'analyse.",
    excludedFoldersPlaceholder: "Modèles\nArchives\nNotes quotidiennes",
    showDoneDefault: "Afficher les tâches terminées par défaut",
    showDoneDefaultDesc:
      "Si le bouton 'Afficher terminées' est activé à l'ouverture du panneau.",
    openTaskHub: "Ouvrir Task Hub (barre latérale droite)",
  },
  es: {
    taskHub: "Task Hub",
    filesView: "Vista de archivos",
    tagsView: "Vista de etiquetas",
    toggleSearch: "Alternar búsqueda",
    toggleCompleted: "Alternar tareas completadas",
    filterPlaceholder: "Filtrar tareas…",
    noTasksFound: "No se encontraron tareas",
    hidden: "Ocultas",
    hideTask: "Ocultar esta tarea",
    unhideTask: "Mostrar esta tarea",
    hideFile: "Ocultar este archivo",
    unhideFile: "Mostrar este archivo",
    cannotNavigate: "No se puede navegar: abre el archivo en modo edición.",
    untagged: "(sin etiqueta)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Carpetas excluidas",
    excludedFoldersDesc:
      "Una ruta de carpeta por línea (relativa a la raíz de la bóveda). Los archivos en estas carpetas se omiten al escanear.",
    excludedFoldersPlaceholder: "Plantillas\nArchivo\nNotas diarias",
    showDoneDefault: "Mostrar tareas completadas por defecto",
    showDoneDefaultDesc:
      "Si el interruptor 'Mostrar completadas' está activado al abrir el panel.",
    openTaskHub: "Abrir Task Hub (barra lateral derecha)",
  },
  pt: {
    taskHub: "Task Hub",
    filesView: "Vista de ficheiros",
    tagsView: "Vista de tags",
    toggleSearch: "Alternar pesquisa",
    toggleCompleted: "Alternar tarefas concluídas",
    filterPlaceholder: "Filtrar tarefas…",
    noTasksFound: "Nenhuma tarefa encontrada",
    hidden: "Ocultas",
    hideTask: "Ocultar esta tarefa",
    unhideTask: "Mostrar esta tarefa",
    hideFile: "Ocultar este ficheiro",
    unhideFile: "Mostrar este ficheiro",
    cannotNavigate: "Não é possível navegar: abra o ficheiro no editor.",
    untagged: "(sem tag)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Pastas excluídas",
    excludedFoldersDesc:
      "Um caminho de pasta por linha (relativo à raiz do cofre). Ficheiros nestas pastas são ignorados ao analisar.",
    excludedFoldersPlaceholder: "Modelos\nArquivo\nNotas diárias",
    showDoneDefault: "Mostrar tarefas concluídas por padrão",
    showDoneDefaultDesc:
      "Se o botão 'Mostrar concluídas' está ativado ao abrir o painel.",
    openTaskHub: "Abrir Task Hub (barra lateral direita)",
  },
  it: {
    taskHub: "Task Hub",
    filesView: "Vista file",
    tagsView: "Vista tag",
    toggleSearch: "Attiva/disattiva ricerca",
    toggleCompleted: "Attiva/disattiva completate",
    filterPlaceholder: "Filtra attività…",
    noTasksFound: "Nessuna attività trovata",
    hidden: "Nascosti",
    hideTask: "Nascondi questa attività",
    unhideTask: "Mostra questa attività",
    hideFile: "Nascondi questo file",
    unhideFile: "Mostra questo file",
    cannotNavigate: "Impossibile navigare: apri il file nell'editor.",
    untagged: "(senza tag)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Cartelle escluse",
    excludedFoldersDesc:
      "Un percorso di cartella per riga (relativo alla radice del vault). I file in queste cartelle vengono ignorati durante la scansione.",
    excludedFoldersPlaceholder: "Modelli\nArchivio\nNote giornaliere",
    showDoneDefault: "Mostra attività completate per impostazione predefinita",
    showDoneDefaultDesc:
      "Se l'interruttore 'Mostra completate' è attivo all'apertura del pannello.",
    openTaskHub: "Apri Task Hub (barra laterale destra)",
  },
  ru: {
    taskHub: "Task Hub",
    filesView: "По файлам",
    tagsView: "По тегам",
    toggleSearch: "Поиск",
    toggleCompleted: "Завершённые задачи",
    filterPlaceholder: "Фильтр задач…",
    noTasksFound: "Задачи не найдены",
    hidden: "Скрытые",
    hideTask: "Скрыть задачу",
    unhideTask: "Показать задачу",
    hideFile: "Скрыть файл",
    unhideFile: "Показать файл",
    cannotNavigate: "Не удаётся перейти: откройте файл в редакторе.",
    untagged: "(без тегов)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Исключённые папки",
    excludedFoldersDesc:
      "Один путь к папке на строку (относительно корня хранилища). Файлы в этих папках пропускаются при сканировании.",
    excludedFoldersPlaceholder: "Шаблоны\nАрхив\nЕжедневные заметки",
    showDoneDefault: "Показывать завершённые задачи по умолчанию",
    showDoneDefaultDesc:
      "Включён ли переключатель 'Показать завершённые' при открытии панели.",
    openTaskHub: "Открыть Task Hub (правая панель)",
  },
  uk: {
    taskHub: "Task Hub",
    filesView: "За файлами",
    tagsView: "За тегами",
    toggleSearch: "Пошук",
    toggleCompleted: "Завершені завдання",
    filterPlaceholder: "Фільтр завдань…",
    noTasksFound: "Завдання не знайдено",
    hidden: "Приховані",
    hideTask: "Приховати завдання",
    unhideTask: "Показати завдання",
    hideFile: "Приховати файл",
    unhideFile: "Показати файл",
    cannotNavigate: "Неможливо перейти: відкрийте файл у редакторі.",
    untagged: "(без тегів)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Виключені папки",
    excludedFoldersDesc:
      "Один шлях до папки на рядок (відносно кореня сховища). Файли в цих папках пропускаються при скануванні.",
    excludedFoldersPlaceholder: "Шаблони\nАрхів\nЩоденні нотатки",
    showDoneDefault: "Показувати завершені завдання за замовчуванням",
    showDoneDefaultDesc:
      "Чи увімкнено перемикач 'Показати завершені' при відкритті панелі.",
    openTaskHub: "Відкрити Task Hub (права панель)",
  },
  zh: {
    taskHub: "Task Hub",
    filesView: "文件视图",
    tagsView: "标签视图",
    toggleSearch: "切换搜索",
    toggleCompleted: "切换已完成任务",
    filterPlaceholder: "筛选任务…",
    noTasksFound: "未找到任务",
    hidden: "已隐藏",
    hideTask: "隐藏此任务",
    unhideTask: "显示此任务",
    hideFile: "隐藏此文件",
    unhideFile: "显示此文件",
    cannotNavigate: "无法导航：请先在编辑器中打开文件。",
    untagged: "（无标签）",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "排除的文件夹",
    excludedFoldersDesc: "每行一个文件夹路径（相对于仓库根目录）。这些文件夹中的文件在扫描时会被跳过。",
    excludedFoldersPlaceholder: "模板\n归档\n每日笔记",
    showDoneDefault: "默认显示已完成任务",
    showDoneDefaultDesc: "打开面板时「显示已完成」开关是否默认开启。",
    openTaskHub: "打开 Task Hub（右侧边栏）",
  },
  ja: {
    taskHub: "Task Hub",
    filesView: "ファイル表示",
    tagsView: "タグ表示",
    toggleSearch: "検索の切替",
    toggleCompleted: "完了タスクの切替",
    filterPlaceholder: "タスクを検索…",
    noTasksFound: "タスクが見つかりません",
    hidden: "非表示",
    hideTask: "このタスクを非表示",
    unhideTask: "このタスクを表示",
    hideFile: "このファイルを非表示",
    unhideFile: "このファイルを表示",
    cannotNavigate: "移動できません：エディタでファイルを開いてください。",
    untagged: "（タグなし）",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "除外フォルダ",
    excludedFoldersDesc:
      "1行に1つのフォルダパス（ボルトルートからの相対パス）。これらのフォルダ内のファイルはスキャン時にスキップされます。",
    excludedFoldersPlaceholder: "テンプレート\nアーカイブ\nデイリーノート",
    showDoneDefault: "デフォルトで完了タスクを表示",
    showDoneDefaultDesc: "パネルを開いた時に「完了を表示」トグルがオンになるかどうか。",
    openTaskHub: "Task Hubを開く（右サイドバー）",
  },
  ko: {
    taskHub: "Task Hub",
    filesView: "파일 보기",
    tagsView: "태그 보기",
    toggleSearch: "검색 전환",
    toggleCompleted: "완료 작업 전환",
    filterPlaceholder: "작업 필터…",
    noTasksFound: "작업을 찾을 수 없습니다",
    hidden: "숨김",
    hideTask: "이 작업 숨기기",
    unhideTask: "이 작업 표시",
    hideFile: "이 파일 숨기기",
    unhideFile: "이 파일 표시",
    cannotNavigate: "이동할 수 없습니다: 편집기에서 파일을 먼저 여세요.",
    untagged: "(태그 없음)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "제외된 폴더",
    excludedFoldersDesc:
      "한 줄에 하나의 폴더 경로 (볼트 루트 기준 상대 경로). 이 폴더의 파일은 스캔 시 건너뜁니다.",
    excludedFoldersPlaceholder: "템플릿\n아카이브\n일일 노트",
    showDoneDefault: "기본적으로 완료된 작업 표시",
    showDoneDefaultDesc: "패널을 열 때 '완료 표시' 토글이 켜져 있는지 여부.",
    openTaskHub: "Task Hub 열기 (오른쪽 사이드바)",
  },
  ar: {
    taskHub: "Task Hub",
    filesView: "عرض الملفات",
    tagsView: "عرض الوسوم",
    toggleSearch: "تبديل البحث",
    toggleCompleted: "تبديل المهام المكتملة",
    filterPlaceholder: "تصفية المهام…",
    noTasksFound: "لم يتم العثور على مهام",
    hidden: "مخفي",
    hideTask: "إخفاء هذه المهمة",
    unhideTask: "إظهار هذه المهمة",
    hideFile: "إخفاء هذا الملف",
    unhideFile: "إظهار هذا الملف",
    cannotNavigate: "لا يمكن التنقل: افتح الملف في المحرر أولاً.",
    untagged: "(بدون وسم)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "المجلدات المستبعدة",
    excludedFoldersDesc:
      "مسار مجلد واحد لكل سطر (نسبي إلى جذر المخزن). يتم تخطي الملفات في هذه المجلدات عند المسح.",
    excludedFoldersPlaceholder: "قوالب\nأرشيف\nملاحظات يومية",
    showDoneDefault: "إظهار المهام المكتملة افتراضيًا",
    showDoneDefaultDesc: "ما إذا كان مفتاح 'إظهار المكتملة' مفعلاً عند فتح اللوحة.",
    openTaskHub: "فتح Task Hub (الشريط الجانبي الأيمن)",
  },
  tr: {
    taskHub: "Task Hub",
    filesView: "Dosya görünümü",
    tagsView: "Etiket görünümü",
    toggleSearch: "Aramayı aç/kapat",
    toggleCompleted: "Tamamlananları aç/kapat",
    filterPlaceholder: "Görevleri filtrele…",
    noTasksFound: "Görev bulunamadı",
    hidden: "Gizli",
    hideTask: "Bu görevi gizle",
    unhideTask: "Bu görevi göster",
    hideFile: "Bu dosyayı gizle",
    unhideFile: "Bu dosyayı göster",
    cannotNavigate: "Gezinilemiyor: dosyayı düzenleyicide açın.",
    untagged: "(etiketsiz)",
    settingsTitle: "Sidebar Task Hub",
    excludedFolders: "Hariç tutulan klasörler",
    excludedFoldersDesc:
      "Satır başına bir klasör yolu (kasa köküne göre). Bu klasörlerdeki dosyalar tarama sırasında atlanır.",
    excludedFoldersPlaceholder: "Şablonlar\nArşiv\nGünlük Notlar",
    showDoneDefault: "Tamamlanan görevleri varsayılan olarak göster",
    showDoneDefaultDesc:
      "Panel açıldığında 'Tamamlananları göster' düğmesinin açık olup olmadığı.",
    openTaskHub: "Task Hub'ı aç (sağ kenar çubuğu)",
  },
} as const;

type Locale = keyof typeof strings;
type StringKey = keyof (typeof strings)["en"];

function detectLocale(): Locale {
  const lang = (navigator.language ?? "en").toLowerCase();
  const prefix = lang.split("-")[0] ?? "en";
  if (prefix in strings) return prefix as Locale;
  return "en";
}

const currentLocale = detectLocale();

export function t(key: StringKey): string {
  return strings[currentLocale]?.[key] ?? strings.en[key];
}
